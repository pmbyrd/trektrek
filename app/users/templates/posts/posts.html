{% extends "base.html" %}
{%block title%}{{title}}{%endblock%}
{%block content%}

<div class="lcars-text-bar">
    {% if current_user.is_authenticated %}
    <span><a href="{{ url_for('users.create_post')}}">Make a post</a></span>
    {% else %}
    <a href="{{ url_for('users.user_login') }}">Login</a> To Create a Post
    {% endif%}
</div>

<div class="container">
    <ul class="tags-list">
        {% for tag_data in tags %}
        <li>
            <a href="{{url_for('users.tag', tag_id=tag_data.id)}}">{{ tag_data.name }}</a> ({{ tag_data.posts|length }} posts)
        </li>
        {% endfor %}
    </ul>
</div>

<div class="container">
    <ul class="posts-ul">
        {% for post in posts %}
        <li class="image-li-ships">
            <a href="{{url_for('users.post', post_id=post.id)}}">{{post.title}}</a>
        </li>
        <li class="image-li-ships">
            <!-- Check if the post has any tags -->
            {% if post.tags %}
            Tags:
            {% for tag in post.tags %}
            <a href="">{{tag}}</a>{% if not loop.last %}, {% endif %}
            {% endfor %}
            {% endif %}
        </li>
        {% endfor %}
    </ul>


    {%endblock%}